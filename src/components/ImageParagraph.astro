---
import { Image } from "astro:assets";

interface Props {
  class?: string;
  src: string;
  alt: string;
  width?: number;
  height?: number;
  side?: "left" | "right";
}
const {
  class: className = "",
  src,
  alt,
  side = "left",
  width = 150,
  height = 150,
} = Astro.props;
const direction = side === "right" ? "sm:flex-row-reverse" : "sm:flex-row";
---

<div
  class={`my-8 flex flex-col gap-4 ${direction} sm:items-center ${className}`}
>
  <Image
    src={src}
    alt={alt}
    width={width}
    height={height}
    densities={[1, 1.5, 2]}
    class={`not-prose shrink-0 rounded object-cover`}
    style={`width:${width}px;height:auto`}
  />
  <!-- Let the page's outer .prose style this content -->
  <div class="[&>p]:my-0">
    <slot />
  </div>
</div>
